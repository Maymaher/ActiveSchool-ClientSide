
<div class="container" *ngIf="CurrentUser.type=='admin'" style="width: 74%;margin: 0 auto;margin-top: 0px;margin-top: 5%;margin-bottom: 13%;">
    <h1 style="text-align: center;">All Users</h1>
   
    <a routerLink="/register" style="float: right; background-color: steelblue;" class="btn btn-primary">Add new user</a>
    <div class="col-12">
      <ul class="nav nav-tabs mb-4" id="myTab" role="tablist">
          <li class="nav-item student" style="">
              <a style="background-color: #db4b4b;color: white;cursor: pointer;" class="nav-link active" (click)="getStudent()" id="basicInfo-tab" data-toggle="tab" role="tab" >Students</a>
          </li>
          <li class="nav-item" style="background-color: darkgray;">
              <a class="nav-link" style="color: black;cursor: pointer;" (click)="getTeacher()" id="connectedServices-tab" data-toggle="tab" role="tab"  >Teachers</a>
          </li>
</ul>
    </div>
    
    <div *ngIf='student' >
        <table  class="table table-striped table-hover ">
            <thead  class="table-dark">
                <tr>
                  <!-- <th scope="col">photo</th> -->

                  <th scope="col">full name</th>
                  <th scope="col">email</th>
                  <th scope="col">phone</th>
                  <th scope="col">address</th>
                  <th scope="col">level</th>
                  <th scope="col">class</th>

                  <th scope="col" style="text-align: end;">action</th>
                  <th scope="col"></th>

                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let student of studentsData">
                  <!-- <td>{{student.avatar}}</td> -->
                  <td>{{student.firstName}} {{student.lastName}}</td>
                  <td>{{student.email}}</td>
                  <td>{{student.phone}}</td>
                  <td>{{student.address}}</td>
                  <td>{{student.level.number}}</td>
                  <td>{{student.class.number}}</td>
                 
                  <td><a routerLink="/admin/editUser/{{student._id}}" class="btn btn-secondary">Edit</a></td>

                  <td><button (click)="deleteUser(student._id)"  class="btn btn-danger">Delete</button></td>

              </tr>
              </tbody>  </table>
    </div>


    <!-- teacher part -->

    <div *ngIf='teacher' >
      <table  class="table table-striped table-hover ">
          <thead  class="table-dark">
              <tr>
                <!-- <th scope="col">photo</th> -->
                <th scope="col">full name</th>
                <th scope="col">email</th>
                <th scope="col">phone</th>
                <th scope="col" style="text-align: end;">action</th>
                <th scope="col"></th>
                <th scope="col"></th>

              </tr>
            </thead>
            <tbody>
             
              <tr *ngFor="let Teacher of teachersData">
               
                <!-- <td>{{Teacher.avatar}}</td> -->
                <td>{{Teacher.firstName}} {{Teacher.lastName}}</td>
                <td>{{Teacher.email}}</td>
                <td>{{Teacher.phone}}</td>
                <td><a routerLink="/admin/teacherDetails/{{Teacher._id}}" class="btn" style="background-color:#4ba2d7">View</a></td>

                <td><a routerLink="/admin/editUser/{{Teacher._id}}" class="btn btn-secondary">Edit</a></td>

                <td><button (click)="deleteUser(Teacher._id)" class="btn btn-danger">Delete</button></td>

              </tr>
             
            </tbody>  </table>
  </div>
    
</div>

<div *ngIf="CurrentUser.type!='admin'">unauthorized</div>